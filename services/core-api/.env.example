# BEGIN WRITING FILE CODE
# -----------------------------------------------------------------------------
# services/core-api/.env.example
# -----------------------------------------------------------------------------
# Example environment variables for the Node.js + Express core API.
#
# Usage:
#   1. Copy this file to `.env.local` (or `.env`) in the same directory:
#        cp .env.example .env.local
#   2. Replace placeholder values with real ones for your environment.
#
# Notes:
#   - Do NOT commit `.env.local` or any real secrets.
#   - The corresponding config loader lives in `src/config/config.js`.
#   - MySQL, MongoDB, Redis, and Kafka are assumed to run locally for dev,
#     often via Docker (to be provided in later infra steps).
# -----------------------------------------------------------------------------


# -----------------------------------------------------------------------------
# Environment & server configuration
# -----------------------------------------------------------------------------
NODE_ENV=development

# HTTP port for the core-api Express server.
# This should match what the client uses in VITE_API_BASE_URL.
PORT=4000

# Logging verbosity (e.g., debug, info, warn, error).
LOG_LEVEL=info


# -----------------------------------------------------------------------------
# MySQL configuration
# -----------------------------------------------------------------------------
# Connection string for the primary MySQL database.
# Format:
#   mysql://USER:PASSWORD@HOST:PORT/DB_NAME
#
# Example local dev:
#   MYSQL_URL=mysql://kayak_user:kayak_pass@localhost:3306/kayak_core
# -----------------------------------------------------------------------------
MYSQL_URL=mysql://kayak_user:kayak_pass@localhost:3306/kayak_core

# Optional MySQL pool sizing (the config loader will parse these as integers).
MYSQL_POOL_MIN=2
MYSQL_POOL_MAX=10


# -----------------------------------------------------------------------------
# MongoDB configuration
# -----------------------------------------------------------------------------
# MongoDB connection string for reviews, clickstream, deal snapshots, etc.
#
# Example local dev:
#   MONGO_URL=mongodb://localhost:27017/kayak_core
# -----------------------------------------------------------------------------
MONGO_URL=mongodb://localhost:27017/kayak_core


# -----------------------------------------------------------------------------
# Redis configuration
# -----------------------------------------------------------------------------
# Redis connection string used for SQL result caching and ephemeral data.
#
# Example local dev:
#   REDIS_URL=redis://localhost:6379/0
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379/0


# -----------------------------------------------------------------------------
# Kafka configuration
# -----------------------------------------------------------------------------
# Comma-separated list of Kafka broker addresses.
#
# Example:
#   KAFKA_BROKERS=localhost:9092
#   KAFKA_BROKERS=localhost:9092,localhost:9093
# -----------------------------------------------------------------------------
KAFKA_BROKERS=localhost:9092


# -----------------------------------------------------------------------------
# Authentication configuration
# -----------------------------------------------------------------------------
# Secret used to sign JWT access tokens.
# - MUST be a strong, random value in production.
# - NEVER expose this to the frontend.
# -----------------------------------------------------------------------------
JWT_SECRET=replace-with-a-long-random-secret-value


# -----------------------------------------------------------------------------
# CORS configuration
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins for browser clients.
# In local development, this is typically the Vite dev server.
#
# Example:
#   CORS_ORIGINS=http://localhost:5173,http://127.0.0.1:5173
# -----------------------------------------------------------------------------
CORS_ORIGINS=http://localhost:5173


# -----------------------------------------------------------------------------
# Optional: Inter-service URLs & feature toggles
# -----------------------------------------------------------------------------
# Base URL for the AI service (if core-api needs to call it directly).
AI_SERVICE_BASE_URL=http://localhost:8001

# Toggle for enabling/disabling simulated external payment provider.
# (Will be used by the payment simulator service in later steps.)
PAYMENTS_SIMULATION_ENABLED=true

# Optional Stripe-like integration (left here as a placeholder for later).
# USE_STRIPE=false
# STRIPE_SECRET_KEY=sk_test_xxx
# STRIPE_WEBHOOK_SECRET=whsec_xxx
# -----------------------------------------------------------------------------
# END OF FILE
